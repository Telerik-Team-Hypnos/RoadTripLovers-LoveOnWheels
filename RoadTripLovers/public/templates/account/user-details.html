<div id="user-details-page" class="row"><div class="col-md-12"><h1>{{currentUser.username}}</h1><h3 ng-show="currentUser.isTruckDriver" class="text-muted">Driver</h3></div><hr/><div class="col-md-2"><ul class="nav nav-pills nav-stacked"><li ng-class="{true: 'text-center active', false: 'text-center'}[detailsPage === 'profile']"><a href="" ng-click="detailsPage='profile'">Profile</a></li><li ng-class="{true: 'text-center active', false: 'text-center'}[detailsPage === 'photos']"><a href="" ng-click="detailsPage='photos'">Photos</a></li><li class="text-center"><a href="" ng-if="!isMyProfile" data-toggle="modal" data-target="#send-message-modal">Send Message</a><a href="" ng-if="isMyProfile" ng-click="unreadCount = 0" data-toggle="modal" data-target="#view-messages-modal">Messages({{unreadCount}})</a></li><li class="text-center"><a href="#/profile" ng-if="isMyProfile">Edit</a></li></ul></div><div id="details-page-content" ng-switch="detailsPage"><div id="profile" ng-switch-when="profile"><div class="col-md-5"><div ng-show="currentUser.profilePhoto"><img src="currentUser.profilePhoto"/></div><div ng-show="currentUser.firstName || currentUser.lastName"><span class="text-muted lead">Name:</span><span class="lead"> {{currentUser.firstName}} {{currentUser.lastName}}</span></div><div ng-show="currentUser.birthDate"><span class="text-muted lead">Born:</span><span class="lead"> {{currentUser.birthDate | date: short}}</span></div><div ng-show="currentUser.sex"><span class="text-muted lead">Gender:</span><span class="lead"> {{currentUser.sex}}</span></div><div ng-show="currentUser.town"><span class="text-muted lead">Town:</span><span class="lead"> {{currentUser.town}}</span></div><div ng-show="currentUser.country"><span class="text-muted lead">Country:</span><span class="lead"> {{currentUser.country}}</span></div><div ng-show="currentUser.motto"><span class="text-muted lead">Moto:</span><span class="lead"> {{currentUser.motto}}</span></div></div><div class="col-md-5"><div class="list-group"><h3 class="list-group-item active text-center">Comments</h3><div id="comments" class="list-group-item"><div ng-repeat="comment in comments | orderBy: '-date'" class="list-group-item"><strong class="list-group-item-heading">{{comment.sender.username}}</strong><span> on</span><span class="text-muted"> {{comment.date | date: short}}</span><div class="list-group-item-text alert alert-warning">{{comment.body}}</div></div></div><div class="list-group-item"><textarea ng-model="newComment.body" class="container-fluid form-control"></textarea></div><div class="list-group-item"><button type="button" ng-click="postComment()" class="btn btn-block btn-info">Post</button></div></div></div></div><div id="photos" ng-switch-when="photos"><div class="col-md-6"><h3 ng-if="photos.collection.length===0">No images uploaded!</h3></div><div class="col-md-4"><div ng-if="isMyProfile" class="list-group"><h3 class="list-group-item active text-center">Upload a new photo</h3><div class="list-group-item"><form ng-submit="photos.uploadPhoto()" enctype="multipart/form-data"><div class="form-group"><label>Select a photo</label><input type="file" name="new-photo" ng-model="photos.newPhoto"/></div><button class="btn btn-primary">Upload</button></form></div></div></div></div></div><div id="send-message-container" ng-if="!isMyProfile"><div id="send-message-modal" role="dialog" aria-hidden="true" class="modal fade"><div class="modal-dialog"><div class="modal-content"><form ng-submit="messages.sendMessage()"><div class="modal-header"><button data-dismiss="modal" class="close">x</button><input type="text" ng-model="messages.title" placeholder="Add Title..." class="modal-title"/></div><div class="modal-body"><textarea rows="4" ng-model="messages.body" required="required" placeholder="Your message goes here..." class="form-control container-fluid"></textarea></div><div class="modal-footer"><button data-dismiss="modal" class="btn btn-default">Close</button><button class="btn btn-primary">Send</button></div></form></div></div></div></div><div id="view-messages-container" ng-if="isMyProfile"><div id="view-messages-modal" role="dialog" aria-hidden="true" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><span>Messages</span><button data-dismiss="modal" class="close">x</button></div><div class="modal-body"><div id="view-user-messages" class="list-group"><div ng-repeat="message in logedUserMessages | orderBy: '-postTime'" class="list-group-item"><div class="lead">Title: {{message.title}}</div><span>by</span><strong class="list-group-item-heading"> {{message.sender.username}}</strong><span> on</span><span class="text-muted"> {{message.postTime | date: 'medium'}}</span><div class="list-group-item-text alert alert-warning">{{message.body}}</div></div></div><a href="" ng-click="loadOlderMessages()">Older..</a></div><div class="modal-footer"><button data-dismiss="modal" class="btn btn-default">Close</button></div></div></div></div></div></div><hr/>